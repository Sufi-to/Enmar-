{% extends 'learningPlatform/base.html' %}
{% load static %}
{% block title %}Command Your Learning Galaxy, Instructor!{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'instructor_dashboard.css' %}">
{% endblock %}

{% block nav %}
{% endblock %}

{% block content %}
<section class="dashboard">
    <div class="container">
        <div class="dashboard-left">
            <div class="instructor-profile">
                <div class="profile-picture">
                    <img src="{% static 'profile_placeholder.jpg' %}" alt="Profile Picture">
                    <div class="status-indicator online"></div>
                </div>
                <div class="instructor-details">
                    <h1>Welcome Back, {{ user.username }}</h1>
                    <p class="instructor-bio"> {{user.bio}}</p>
                    <button class="btn btn-primary">Edit Profile</button>
                    <button class="btn btn-secondary">Change Password</button>
                </div>
            </div>

            <div class="dashboard-section">
                <h2>Course Management</h2>
                <ul class="action-list">
                    <li><a href="{% url 'add_course' %}" class="btn btn-tertiary">Create New Course</a></li>

                </ul>
            </div>
        </div>

        <div class="dashboard-right">
            <div class="dashboard-section">
                <h2>Active Courses</h2>
                <ul class="course-list">
                    {% for course in courses %}
                        <li>
                            <a href="{% url 'course_students' course.pk %}">{{ course.title }}</a>
                            <span class="course-status active">Active</span>
                        </li>
                    {% endfor %}
                </ul>
            </div>

            <div class="dashboard-section">
                <h2>Add New Lesson</h2>
                <form method="post" action="{% url 'add_lesson' %}">
                    {% csrf_token %}
                    <div class="form-group">
                        <label for="course">Select Course</label>
                        <select id="course" name="course" required>
                            {% for course in courses %}
                                <option value="{{ course.pk }}">{{ course.title }}</option>
                            {% endfor %}
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="title">Lesson Title (Max 255 characters)</label>
                        <input type="text" id="title" name="title" maxlength="255" required>
                    </div>
                    <div class="form-group">
                        <label for="video_url">YouTube Video URL (Optional)</label>
                        <input type="url" id="video_url" name="video_url">
                    </div>
                    <div class="form-group">
                        <label for="description">Lesson Description (Markdown Supported)</label>
                        <textarea id="description" name="description" rows="8"></textarea>
                        <p class="info-text">Use Markdown for formatting text, adding images, and more!</p>
                    </div>
                    <div class="form-group">
                        <label for="resources">Upload Additional Resources (Optional)</label>
                        <input type="file" id="resources" name="resources" multiple>
                        <p class="info-text">Upload PDFs, documents, or images to enrich your lesson.</p>
                    </div>
                    <button type="submit" class="btn btn-primary">Launch Lesson to Students!</button>
                </form>
            </div>
        </div>
    </div>
</section>
{% endblock %}
